<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>Longcat EXTREME 10 Levels</title>
<style>
body{
margin:0;
background:#1a0a0a;
font-family:"Microsoft JhengHei";
display:flex;
flex-direction:column;
align-items:center;
}
canvas{
background:#1e1e1e;
margin-top:20px;
border-radius:14px;
box-shadow:0 10px 25px rgba(255,50,50,.3);
}
.panel{
background:#2a0a0a;
color:#ff6b6b;
padding:12px 20px;
margin-top:15px;
border-radius:12px;
box-shadow:0 5px 10px rgba(255,0,0,.2);
text-align:center;
}
.panel .title{
font-size:18px;
font-weight:bold;
color:#ff3333;
margin-bottom:4px;
}
.btns{
display:flex;
gap:10px;
margin-top:12px;
}
.btns button{
flex:1;
padding:10px 0;
border:none;
border-radius:10px;
font-size:15px;
font-family:"Microsoft JhengHei";
cursor:pointer;
background:#3a0a0a;
color:#ff6b6b;
box-shadow:0 3px 6px rgba(255,0,0,.2);
}
.btns button:active{
transform:scale(0.96);
}
.back-btn{
margin-top:10px;
width:100%;
padding:8px 0;
border:none;
border-radius:10px;
font-size:14px;
font-family:"Microsoft JhengHei";
cursor:pointer;
background:#2a1a00;
color:#ffaa33;
box-shadow:0 3px 6px rgba(0,0,0,.2);
}
.back-btn:active{
transform:scale(0.96);
}
.dpad{
display:grid;
grid-template-columns:repeat(3,60px);
grid-template-rows:repeat(3,60px);
gap:6px;
margin-top:15px;
}
.dpad button{
width:60px;
height:60px;
border:none;
border-radius:12px;
font-size:22px;
background:#3a0a0a;
color:#ff6b6b;
box-shadow:0 3px 6px rgba(255,0,0,.2);
cursor:pointer;
}
.dpad button:active{
transform:scale(0.93);
}
.dpad .empty{
background:transparent;
box-shadow:none;
pointer-events:none;
}
</style>
</head>
<body>
<div class="panel">
<div class="title">ğŸ’€ æ¥µé™åœ°ç„ ğŸ’€</div>
é—œå¡ <span id="lvl">1</span> / 10 ï½œ Z å¾©åŸ ï½œ R é‡ä¾†
<div class="btns">
<button onclick="undo()">â†© å¾©åŸ</button>
<button onclick="init()">ğŸ”„ é‡ä¾†</button>
</div>
<button class="back-btn" onclick="window.location.href='longcat.html'">â† è¿”å›ä¸»é¸å–®</button>
<div class="dpad">
<div class="empty"></div>
<button ontouchstart="e_stop(event)" ontouchend="e_stop(event)" onclick="move(0,-1)">â¬†ï¸</button>
<div class="empty"></div>
<button ontouchstart="e_stop(event)" ontouchend="e_stop(event)" onclick="move(-1,0)">â¬…ï¸</button>
<div class="empty"></div>
<button ontouchstart="e_stop(event)" ontouchend="e_stop(event)" onclick="move(1,0)">â¡ï¸</button>
<div class="empty"></div>
<button ontouchstart="e_stop(event)" ontouchend="e_stop(event)" onclick="move(0,1)">â¬‡ï¸</button>
<div class="empty"></div>
</div>
</div>
<canvas id="game"></canvas>
<script>
const canvas=game;
const ctx=canvas.getContext("2d");
let TILE=60;
let grid=[];
let catPath=[];
let history=[];
let level=1;
//////////////////////////////////////////////////
// ğŸ’€ æ¥µé™åœ°ç„ 10é—œ
//////////////////////////////////////////////////
const LEVELS=[
// Extreme 1 (7x7, 9 boxes, 40 steps)
{m:[
[0,0,2,1,0,0,0],
[0,0,0,0,0,1,0],
[0,0,0,0,1,0,0],
[0,0,1,0,0,0,0],
[0,0,0,0,1,0,0],
[0,1,0,0,0,0,1],
[0,0,0,1,0,0,1]
]},
// Extreme 2 (7x7, 9 boxes, 40 steps)
{m:[
[2,0,0,0,0,0,1],
[0,0,0,0,0,0,0],
[0,0,0,0,0,1,0],
[0,0,1,0,0,0,0],
[0,0,0,0,0,0,1],
[0,1,0,1,0,0,1],
[0,0,0,0,0,1,1]
]},
// Extreme 3 (7x7, 10 boxes, 39 steps)
{m:[
[0,0,2,0,0,0,0],
[0,0,0,0,1,1,0],
[0,0,1,0,0,0,0],
[0,0,0,0,1,0,1],
[0,0,0,1,1,0,0],
[0,0,0,0,0,1,0],
[0,0,1,1,0,0,0]
]},
// Extreme 4 (7x8, 9 boxes, 47 steps)
{m:[
[0,0,0,1,0,0,0,0],
[0,1,0,0,0,0,0,0],
[0,0,0,0,1,0,1,0],
[0,0,1,0,0,0,2,0],
[0,0,1,0,0,1,1,1],
[0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0]
]},
// Extreme 5 (7x8, 9 boxes, 47 steps)
{m:[
[1,0,0,0,0,0,0,0],
[0,0,1,1,0,0,0,0],
[0,0,0,0,0,1,1,0],
[0,0,1,1,0,0,0,0],
[0,0,1,0,0,1,0,0],
[0,0,0,0,2,0,0,0],
[0,0,0,0,0,0,0,0]
]},
// Extreme 6 (7x8, 10 boxes, 46 steps)
{m:[
[0,0,1,0,0,0,0,1],
[0,0,0,0,1,1,0,0],
[0,0,0,0,0,0,1,0],
[0,0,0,0,1,0,1,0],
[0,0,0,1,1,0,0,0],
[0,1,0,0,0,0,0,0],
[0,2,0,0,0,0,0,0]
]},
// Extreme 7 (7x8, 10 boxes, 46 steps)
{m:[
[1,1,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0],
[0,1,1,0,0,0,2,0],
[0,0,0,0,0,0,1,0],
[0,0,1,1,1,0,0,0],
[0,0,0,0,0,0,0,0],
[1,1,0,0,0,0,0,0]
]},
// Extreme 8 (7x7, 11 boxes, 38 steps)
{m:[
[1,0,0,0,0,0,0],
[0,0,1,0,0,0,0],
[0,0,0,0,0,0,1],
[0,0,0,1,0,0,1],
[0,1,0,0,0,0,1],
[0,1,1,1,1,2,0],
[0,0,0,0,0,0,0]
]},
// Extreme 9 (7x7, 9 boxes, 40 steps)
{m:[
[0,0,0,0,0,0,0],
[0,0,0,0,0,1,0],
[0,0,1,1,0,1,0],
[0,0,0,1,0,1,0],
[0,1,0,0,0,0,0],
[0,2,0,0,0,0,1],
[0,0,0,0,0,0,1]
]},
// Extreme 10 (7x8, 9 boxes, 47 steps)
{m:[
[0,0,0,0,0,0,0,0],
[0,0,0,0,1,1,1,0],
[0,0,1,0,0,0,0,0],
[0,0,0,0,0,0,0,2],
[0,0,0,1,1,1,0,0],
[0,0,0,0,0,0,1,0],
[0,0,0,0,1,0,0,0]
]}
];
//////////////////////////////////////////////////
function init(){
grid=LEVELS[level-1].m.map(r=>[...r]);
catPath=[];
history=[];
for(let y=0;y<grid.length;y++){
for(let x=0;x<grid[0].length;x++){
if(grid[y][x]===2){
catPath.push({x,y});
grid[y][x]=3;
}
}
}
canvas.width=grid[0].length*TILE;
canvas.height=grid.length*TILE;
lvl.innerText=level;
draw();
}
function saveState(){
history.push({
grid:grid.map(r=>[...r]),
path:catPath.map(p=>({...p}))
});
}
function undo(){
if(!history.length) return;
let s=history.pop();
grid=s.grid.map(r=>[...r]);
catPath=s.path.map(p=>({...p}));
draw();
}
function move(dx,dy){
let head=catPath.at(-1);
let nx=head.x+dx;
let ny=head.y+dy;
if(ny<0||ny>=grid.length||nx<0||nx>=grid[0].length) return;
if(grid[ny][nx]!==0) return;
saveState();
while(ny>=0&&ny<grid.length&&nx>=0&&nx<grid[0].length&&grid[ny][nx]===0){
grid[ny][nx]=3;
catPath.push({x:nx,y:ny});
head={x:nx,y:ny};
nx=head.x+dx;
ny=head.y+dy;
}
draw();
checkWin();
}
function checkWin(){
for(let r of grid)
if(r.includes(0)) return;
setTimeout(()=>{
level++;
if(level>LEVELS.length){
alert("ğŸ’€ğŸ±ğŸ’€ æ­å–œå®Œæˆæ¥µé™åœ°ç„å…¨éƒ¨10é—œï¼ä½ æ˜¯å‚³èªªï¼");
level=1;
}
init();
},250);
}
function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
// dark grid background
ctx.fillStyle="#1e1e1e";
ctx.fillRect(0,0,canvas.width,canvas.height);
grid.forEach((row,y)=>{
row.forEach((cell,x)=>{
ctx.strokeStyle="#333";
ctx.strokeRect(x*TILE,y*TILE,TILE,TILE);
if(cell===1){
ctx.font="36px Arial";
ctx.fillText("ğŸ“¦",x*TILE+12,y*TILE+44);
}
});
});
catPath.forEach((p,i)=>{
if(i<catPath.length-1){
ctx.font="20px Arial";
ctx.fillText("ğŸ¾",p.x*TILE+18,p.y*TILE+44);
}
});
let head=catPath.at(-1);
ctx.font="42px Arial";
ctx.fillText("ğŸ±",head.x*TILE+8,head.y*TILE+48);
}
function e_stop(e){
e.preventDefault();
e.stopPropagation();
}
window.addEventListener("touchmove",e=>{
e.preventDefault();
},{passive:false});
window.addEventListener("keydown",e=>{
if(e.key==="z"||e.key==="Z") undo();
if(e.key==="r"||e.key==="R") init();
if(e.key==="ArrowUp") move(0,-1);
if(e.key==="ArrowDown") move(0,1);
if(e.key==="ArrowLeft") move(-1,0);
if(e.key==="ArrowRight") move(1,0);
});
let touchStartX=0;
let touchStartY=0;
window.addEventListener("touchstart",e=>{
touchStartX=e.touches[0].clientX;
touchStartY=e.touches[0].clientY;
},{passive:true});
window.addEventListener("touchend",e=>{
let dx=e.changedTouches[0].clientX-touchStartX;
let dy=e.changedTouches[0].clientY-touchStartY;
let absDx=Math.abs(dx);
let absDy=Math.abs(dy);
if(Math.max(absDx,absDy)<20) return;
if(absDx>absDy){
if(dx>0) move(1,0);
else move(-1,0);
}else{
if(dy>0) move(0,1);
else move(0,-1);
}
},{passive:true});
init();
</script>
</body>
</html>
